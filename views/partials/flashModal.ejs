<% if (flash) { %>

  <!-- FLASH TOAST -->
  <div id="updateToast" class="update-toast <%= flash.type %>">
    <%= flash.message %>
  </div>

  <style>
    .update-toast {
      position: fixed;
      bottom: 15vh; /* above lower nav */
      left: 50%;
      transform: translateX(-50%);
      min-width: 70vw;
      max-width: 90vw;
      background: #414664;
      color: #f5f7f8;
      padding: 12px 16px;
      border-radius: 14px;
      letter-spacing: 1px;
      font-size: 1.2rem;
      font-family: "Alice", serif;
      text-align: center;
      letter-spacing: 0.6px;
      z-index: 9999;
      opacity: 0;
      animation: toastFade 2.8s ease forwards;
      pointer-events: none;
    }

    .update-toast.success {
      background: #414664;
    }

    .update-toast.error {
      background: #8b1d1d;
    }

    @keyframes toastFade {
      0% {
        opacity: 0;
        transform: translate(-50%, 10px);
      }
      10% {
        opacity: 1;
        transform: translate(-50%, 0);
      }
      85% {
        opacity: 1;
      }
      100% {
        opacity: 0;
        transform: translate(-50%, 10px);
      }
    }
  </style>

  <script>
    (function () {
      const toast = document.getElementById("updateToast");
      if (!toast) return;

      // Auto remove after animation
      setTimeout(() => {
        toast.remove();
      }, 3000);
    })();
  </script>

<% } %>
